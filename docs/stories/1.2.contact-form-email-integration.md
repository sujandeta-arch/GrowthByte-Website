# User Story: Contact Form Email Integration

**Story ID:** 1.2  
**Priority:** ðŸ”´ URGENT  
**Status:** Ready for Development  
**Assigned:** TBD  
**Created:** 2024

---

## Story Description

As a **website visitor**, I want to **submit the contact form and receive confirmation**, so that I know my inquiry was received and the GrowthByte team can follow up with me.

As a **GrowthByte team member**, I want to **receive contact form submissions via email**, so that I can respond to potential clients promptly.

---

## Business Context

Currently, the contact form on `/contact` page does not persist or send data anywhere. When users submit the form, their information is lost. This is a critical gap preventing lead capture and customer communication.

---

## Requirements

### 1. Email to GrowthByte Team

**When:** User submits contact form with valid data

**Action:** Send email to `harsha@thinkbyte.ai`

**Email Details:**
- **From:** `info@growthbyte.ai`
- **To:** `harsha@thinkbyte.ai`
- **Subject:** `New Contact Form Submission: {Name} - {Service Interest}`
- **Body:** Include all form fields:
  - Full Name (required)
  - Email Address (required)
  - Company Name (required)
  - Service Interest (required)
  - Phone Number (optional)
  - Message/Goals (optional)
  - Timestamp of submission

**Email Format:** Professional, easy to read (HTML or plain text)

---

### 2. Auto-Reply to User

**When:** User successfully submits contact form

**Action:** Send automatic acknowledgement email to the submitter

**Email Details:**
- **From:** `info@growthbyte.ai`
- **To:** User's email address (from form)
- **Subject:** `Thank you for contacting GrowthByte - We've received your message`
- **Body:** 
  - Thank you message
  - Confirmation that we received their inquiry
  - Set expectation: "We'll respond within 24 hours"
  - Include a summary of what they submitted (optional but nice)
  - Contact information if they need immediate assistance

**Email Format:** Professional, friendly tone, branded

---

### 3. Form User Experience

**Success State:**
- Display clear success message: "Thank you! We've received your message. Check your email for confirmation."
- Disable form or clear form fields
- Show success indicator (green checkmark, success banner, etc.)

**Error State:**
- Display clear error message if email sending fails
- Provide fallback: "If you continue to experience issues, please email us directly at harsha@thinkbyte.ai"
- Do not lose user's form data (if possible, preserve it)
- Show specific error if validation fails

**Loading State:**
- Show loading indicator while form is submitting
- Disable submit button during submission

---

## Technical Requirements

### Email Provider: Namecheap PrivateEmail (SMTP)

**SMTP Configuration:**
- Provider: Namecheap PrivateEmail
- Email Account: `info@growthbyte.ai` (already set up)
- SMTP credentials will be provided separately (environment variables)
- Use SMTP protocol (not API-based service)

**SMTP Settings (to be confirmed with team):**
- SMTP Host: `mail.privateemail.com` (typical, verify with Namecheap)
- SMTP Port: `587` (TLS) or `465` (SSL) - verify which is supported
- Authentication: Required (username/password)
- Security: TLS/SSL encryption required

### Implementation Approach

1. **Create API Route:**
   - File: `app/api/contact/route.ts`
   - Method: `POST`
   - Validate form data
   - Send email to `harsha@thinkbyte.ai`
   - Send auto-reply to user
   - Return success/error response

2. **Update Contact Form:**
   - Convert `app/contact/page.tsx` to client component (or extract form to separate client component)
   - Add form submission handler
   - Add loading/success/error states
   - Call API route on submit

3. **Email Library:**
   - Use Node.js email library (e.g., `nodemailer` - popular for SMTP)
   - Install: `npm install nodemailer`
   - TypeScript types: `npm install --save-dev @types/nodemailer`

4. **Environment Variables:**
   - Create `.env.local` for local development
   - Add to deployment platform (Vercel/Netlify) environment variables
   - Variables needed:
     ```
     SMTP_HOST=mail.privateemail.com
     SMTP_PORT=587
     SMTP_USER=info@growthbyte.ai
     SMTP_PASS=<password>
     SMTP_FROM=info@growthbyte.ai
     CONTACT_EMAIL_TO=harsha@thinkbyte.ai
     ```

5. **Security:**
   - Never commit SMTP credentials to git
   - Use environment variables only
   - Add `.env.local` to `.gitignore` (already present)
   - Consider rate limiting to prevent spam/abuse

---

## Acceptance Criteria

### âœ… Must Have

- [ ] Contact form submission sends email to `harsha@thinkbyte.ai`
- [ ] Email appears from `info@growthbyte.ai`
- [ ] Email includes all form fields (name, email, company, phone, service, message)
- [ ] User receives automatic acknowledgement email
- [ ] Acknowledgement email is from `info@growthbyte.ai`
- [ ] Form shows success message after successful submission
- [ ] Form shows error message if submission fails
- [ ] Form validates required fields (name, email, company, service)
- [ ] SMTP credentials stored in environment variables (not in code)
- [ ] Works in production environment (Vercel/deployment platform)

### âœ… Should Have

- [ ] Loading state during form submission
- [ ] Form fields clear or disable after successful submission
- [ ] Error message includes fallback contact method
- [ ] Email includes timestamp of submission
- [ ] Professional email formatting (HTML)

### âœ… Nice to Have

- [ ] Rate limiting to prevent spam
- [ ] Email includes user's IP address (for spam detection)
- [ ] Logging of form submissions (for analytics)
- [ ] Email template with GrowthByte branding

---

## Technical Notes

### SMTP Configuration Details

**Namecheap PrivateEmail SMTP Settings:**
- The team has access to SMTP credentials
- Email account `info@growthbyte.ai` is already set up
- SMTP credentials should be obtained from Namecheap PrivateEmail dashboard

**Where to find SMTP settings in Namecheap:**
1. Log into Namecheap account
2. Go to Domain List â†’ Manage â†’ PrivateEmail
3. Click on the email account (`info@growthbyte.ai`)
4. Look for "Mail Client Configuration" or "SMTP Settings"
5. Note: Host, Port, Username, Password

**Common Namecheap PrivateEmail Settings:**
- SMTP Server: `mail.privateemail.com`
- SMTP Port: `587` (TLS) or `465` (SSL)
- Username: Full email address (`info@growthbyte.ai`)
- Password: Email account password
- Encryption: TLS/SSL required

### Implementation Example (Reference)

```typescript
// app/api/contact/route.ts (pseudo-code structure)
import nodemailer from 'nodemailer'

export async function POST(request: Request) {
  // 1. Parse and validate form data
  // 2. Create SMTP transporter
  // 3. Send email to harsha@thinkbyte.ai
  // 4. Send auto-reply to user
  // 5. Return success/error response
}
```

---

## Testing Checklist

- [ ] Test form submission with all fields filled
- [ ] Test form submission with only required fields
- [ ] Test form submission with invalid email
- [ ] Test form submission with missing required fields
- [ ] Verify email received at `harsha@thinkbyte.ai`
- [ ] Verify auto-reply received at user's email
- [ ] Test error handling (wrong SMTP credentials, network error)
- [ ] Test on mobile device
- [ ] Test in production environment
- [ ] Verify emails don't go to spam folder

---

## Dependencies

- **Email Account:** `info@growthbyte.ai` (already set up in Namecheap PrivateEmail)
- **SMTP Credentials:** To be provided by team (environment variables)
- **NPM Package:** `nodemailer` (to be installed)
- **Deployment:** Environment variables need to be configured in deployment platform

---

## Questions for Dev Team

1. Should we use `nodemailer` or another SMTP library?
2. Do we need email templates (HTML) or plain text is sufficient?
3. Should we add rate limiting? (Recommended for production)
4. Do we need to log submissions anywhere? (Database, analytics, etc.)
5. Should we add reCAPTCHA for spam protection? (Future enhancement)

---

## Related Files

- `app/contact/page.tsx` - Contact form page (needs update)
- `app/api/contact/route.ts` - API route (to be created)
- `.env.local` - Environment variables (to be created/updated)
- `package.json` - Dependencies (needs nodemailer)

---

## Notes

- **Priority:** URGENT - This is blocking lead capture
- **Complexity:** Medium - SMTP integration is straightforward but requires proper configuration
- **Estimated Effort:** 4-6 hours (including testing and email template design)
- **Risk:** Low - SMTP is well-established, but email deliverability should be tested

---

**Last Updated:** 2024  
**Story Owner:** Bhargav
